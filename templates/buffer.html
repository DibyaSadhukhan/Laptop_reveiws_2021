<html>
<head>
<title>Advanced Search</title>
<meta content="width=device-width, initial-scale=1" name="viewport" />
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Ubuntu+Condensed" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<style>
  body{
    background: url("https://getsolution.com/wp-content/uploads/2020/11/RISK-ANALYSIS.jpg.webp");
  }
  .Heading{
    font-family: "Ubuntu Condensed";
    margin: auto;
    background-color: rgba(0, 0, 0, 0.9);
    width:97%;
    padding-bottom:1px;
  }
  nav{
    margin: auto;
    font-family: "Ubuntu Condensed";
    width: 97%;   
  }
  .page_heading{
    text-align:center; 
    color: white;
  }

  .form_labels{
    margin: auto;
    color: white;
    background-color: rgba(0, 0, 0, 0.800);
    width: 97%;
  }
  .main_div{
    margin: auto;
    background-color: rgba(255,255,255, 0.750);
    width: 97%;
    font-family: "Ubuntu Condensed";
    border-radius: 4px;
    box-shadow: 2px 2px 20px 23px rgba(0, 0, 0, 0.650);
  }
  .product_details{
    margin: auto;
    width:90%;
    background-color: rgba(255, 255, 255, 0.650);
    padding: 20px;
    border-radius: 4px;
    box-shadow: 1px 1px 5px 7px rgba(0, 0, 0, 0.650);
  }
  .Product_image{
    height: 175px;
    width: 230px;
  }
  .image_holder{
    float:left;
    text-align: left;
    width:40%;
  }
  .name_holder{
    margin:auto;
    text-align: left;
    width:90%;
    text-align:left;
  }
  @media all and (max-width: 730px){
    .Product_image{
      height: 280px;
      width: 340px;
    }
    .product_details{
      margin: auto;
      width:95%;
      background-color: rgba(255, 255, 255, 0.650);
      border-radius: 4px;
      box-shadow: 1px 1px 5px 7px rgba(0, 0, 0, 0.650);
    }
    .image_holder{
      text-align: center;
      margin: auto;
      width:100%;
    }
    .name_holder{
      margin:auto;
      text-align: left;
      padding-top:17.5rem;
      width:100%;
      text-align:center;
    }
  }
  @media all and (max-width: 400px){
    .Heading{
      font-family: "Ubuntu Condensed";
      margin-left: auto;
      background-color: rgba(0, 0, 0, 0.9);
      width:97%;
    }
    nav{
      margin-left: auto;
      font-family: "Ubuntu Condensed";
      width: 97%;   
    }
    .main_div{
      margin:auto;
      background-color: rgba(255,255,255, 0.750);
      width: 97%;
      font-family: "Ubuntu Condensed";
      border-radius: 4px;
      box-shadow: 2px 2px 20px 23px rgba(0, 0, 0, 0.650);
    }
    .product_details{
      margin: auto;
      width:95%;
      background-color: rgba(255, 255, 255, 0.650);
      border-radius: 4px;
      box-shadow: 1px 1px 5px 7px rgba(0, 0, 0, 0.650);
    }
    .Product_image{
      height: 180px;
      width: 240px;
    }
    .image_holder{
      text-align: center;
      margin: auto;
      width:95%;
    }
    .name_holder{
      padding-top:10.5rem;
      margin:auto;
      width:100%;
      text-align:center;
    }
  }
</style>
</head>
<body >
    <div class="Heading" id ="search_form">
      <a href="https://laptops2021.herokuapp.com/"><h1 class="page_heading">LAPTOP REVIEWS</h1></a>
    </div>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark sticky-top">
      <a class="navbar-brand" href="https://laptops2021.herokuapp.com/">Home</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="collapsibleNavbar">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="https://laptops2021.herokuapp.com/search">Advanced Search</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="">Contact us</a>
        </li>    
      </ul>
      </div>  
    </nav>
    <!--providing query to our database -->
    <div class="form_labels">
    <br>
    <form action ='.' method='POST'>{% csrf_token %}
      <center>
      <label for="sort">Sort by :</label>
        <select name="sort" id="sort">
        <option value="number_of_reveiws">Number of Reveiws</option>
        <option value="Price_A">Price(Ascending)</option>
        <option value="Price_D">Price(Descending)</option>
        <option value="Rating">Rating</option>
      </select>
      <br>
      <br>
      <label for="price range">Price Range:</label>
        <select name="Price_range" id="Price_range">
        <option value="0,0">Any</option>
        <option value="1,19999">&#60; 20000</option>
        <option value="20000,34999">20000 - 35000</option>
        <option value="35000,44999">35000- 45000</option>
        <option value="45000,64999">45000-65000</option>
        <option value="65000,84999">65000-85000</option>
        <option value="85000,9999">85000-100000</option>
        <option value="100000,-1">&#62; 100000</option>
      </select>
      <br>
      <br>
      <label for="make">Brand:</label>
      <select name="Brand" id="Brand">
        <option value="Any">Any</option>
        {% for i in select%}
          <option value="{{i}}">{{i}}</option>
        {%endfor%}
      </select>      
      <button class ="Search" type = "submit">Search</button>
    <br>
    </form>
    </center>
    <br>
    </div>
  <div class="main_div">
        <center>
          <br>
          <h2>{{query}}</h2>
        </center>
        {% for i in data%}
        <br>
        <div class="product_details"><a href="./Product/?code={{i.Product_code}}" style="color: black"> 
          <div class="image_holder">
            <img class="Product_image" src="{{i.Images}}" alt="Laptop"></img>    
          </div>
          <br>
          <div class="name_holder">
            <h4 class="details_holder">{{i.Product_name|truncatechars:33}}</h4>
            <span> <h5 class="details_holder">Price : &#8377; {{i.Price}}</h5></span>
            <span><h5 class="details_holder">Rating :{{i.Rating}} out of 5 ({{i.number_of_reveiws}})</h5></span>
            <br>
          </div>
          <br> 
        </a></div>
        {% endfor %}
        <br>
        {% if data%}
        <div class="product_details"><h3>That's all we have! :3</h3><br></div><br>
        {% else %}
        <a href="#search_form">
        <div class="product_details"> 
          <br>
          <div class="image_holder">
            <img class="Product_image" src="https://wikiclipart.com/wp-content/uploads/2017/01/Laptop-clipart-pictures-free-images-4.jpg" alt="Priceless Laptop!"></img>    
          </div>
          <br>
          <div class="name_holder">
            <h4 class="details_holder">The Laptop you really really want!</h4>
            <span> <h5 class="details_holder">Price : Priceless</h5></span>
            <span><h5 class="details_holder">Rating :5 out of 5 (A lot of people)</h5></span>
            <h6>SEARCH AGAIN!</h6>
            <br>
          </div>
          <br> 
        </div>
        </a>
        {% endif %}
      <br>
      </div>
      <div><a href="https://mail.google.com/mail/?view=cm&fs=1&to=dibyasadhukhan%40gmail.com&authuser=0"><P style="text-align:right; color:white;">dibyasadhukhan@gmail.com</P></a></div>
  </body>
</html>